(this["webpackJsonpdiary-app-v2"]=this["webpackJsonpdiary-app-v2"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},120:function(e,t){},122:function(e,t){},157:function(e,t){},158:function(e,t){},200:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(31),o=n.n(c),l=(n(100),n(101),n(14)),i=n(16),m=n(92),s=n.n(m),u=(n(115),function(){return a.a.createElement("div",{className:"text-left p-4"},a.a.createElement("h1",{className:"left-view--h1"},"DIARY APP"),a.a.createElement("p",{className:"left-view--p"},"Comment with no sense"))}),d=(n(116),n(10)),v=n(93),f=function(e){var t=e.addItem,n=Object(r.useState)(""),c=Object(d.a)(n,2),o=c[0],l=c[1];return a.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={id:Object(v.v4)(),title:o,isActive:!1};t(n),l("")}},a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"col-9 d-flex flex-grow-1 pl-3"},a.a.createElement("input",{type:"text",className:"form-control",placeholder:"Type name here...",value:o,onChange:function(e){return l(e.target.value)}})),a.a.createElement("div",{className:"col-3"},a.a.createElement("button",{type:"submit",className:"btn btn-primary w-100 text-white"},"Add new"))))},E=Object(l.b)((function(e){return{comments:e.comments.entries}}),null)((function(e){var t=e.item,n=e.removeItem,c=e.selectItem,o=e.currentItem,l=e.removeCurrentItem,i=e.comments,m=e.removeAllComments,s=function(e){return c(e)},u=Object(r.useState)([]),v=Object(d.a)(u,2),f=v[0],E=v[1],p=Object(r.useState)("col-12"),b=Object(d.a)(p,2),O=b[0],y=b[1];return Object(r.useEffect)((function(){(null===t||void 0===t?void 0:t.id)===(null===o||void 0===o?void 0:o.id)?y("col-12 right-view--active"):y("col-12")}),[o,t]),Object(r.useEffect)((function(){E(i[t.id])}),[i,t.id]),a.a.createElement("div",{className:O},a.a.createElement("div",{className:"right-view--item"},a.a.createElement("div",{className:"row d-flex align-items-center"},a.a.createElement("div",{className:"col-10",onClick:s.bind(null,t),onKeyDown:s.bind(null,t),role:"button",tabIndex:"-1"},a.a.createElement("div",{className:"p-3 font-weight-bold"},t.title," ",a.a.createElement("span",{className:"badge badge-pill badge-primary"},null===f||void 0===f?void 0:f.length))),a.a.createElement("div",{className:"col-2"},a.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:function(e){e===o.id&&l(),m(e),n(e)}.bind(null,t.id)},"Delete")))))})),p=Object(l.b)((function(e){return{items:e.items.entries,currentItem:e.currentItem.selectedEntry}}),(function(e){return{addItem:function(t){return e({type:"ADD_ITEM",payload:t})},removeItem:function(t){return e({type:"REMOVE_ITEM",payload:t})},selectItem:function(t){return e({type:"SELECT_ITEM",payload:t})},removeCurrentItem:function(){return e({type:"REMOVE_CURRENT_ITEM"})},removeAllComments:function(t){return e({type:"REMOVE_ALL_COMMENTS",payload:t})}}}))((function(e){var t=e.addItem,n=e.removeItem,r=e.items,c=e.currentItem,o=e.selectItem,l=e.removeCurrentItem,i=e.removeAllComments;return a.a.createElement("div",{className:"card shadow-sm bg-white rounded"},a.a.createElement("div",{className:"card-body"},a.a.createElement("h2",{className:"card-title right-view--title pb-3"},"Items"),a.a.createElement(f,{addItem:t}),a.a.createElement("div",{className:"row pt-3"},r.map((function(e){return a.a.createElement(E,{currentItem:c,item:e,removeItem:n,removeCurrentItem:l,removeAllComments:i,selectItem:o,key:e.id})})))))})),b=function(e){var t=e.comment;return a.a.createElement("div",{className:"w-100 comment--item"},a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"col-2 pl-4"},a.a.createElement("div",{className:"comment--avatar",style:{background:t.avatar}})),a.a.createElement("div",{className:"col-10 pl-2 pr-4"},a.a.createElement("div",null,t.text))))},O=function(){return a.a.createElement("div",{className:"col-12"},"Add some comments...")};var y=function(e){var t=e.addComment,n=e.currentItemId,c=Object(r.useState)(""),o=Object(d.a)(c,2),l=o[0],i=o[1];return a.a.createElement("form",{className:"w-100"},a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"col-2 pl-4"},a.a.createElement("div",{className:"comment--avatar comment--avatar-main"})),a.a.createElement("div",{className:"col-10 pl-2 pr-4"},a.a.createElement("textarea",{className:"form-control",rows:"3",value:l,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){var r={id:n,avatar:"#".concat((16777215*Math.random()<<0).toString(16)),text:l};10!==e.keyCode&&13!==e.keyCode||!e.ctrlKey||(t(r),i(""))}}))))},g=function(){return a.a.createElement("div",{className:"col-12"},"Choose item to see and add comments...")},w=Object(l.b)((function(e){return{currentItem:e.currentItem.selectedEntry,comments:e.comments.entries}}),(function(e){return{addComment:function(t){return e({type:"ADD_COMMENT",payload:t})}}}))((function(e){var t=e.currentItem,n=e.addComment,c=e.comments,o=!t||0===Object.keys(t).length,l=Object(r.useState)([]),i=Object(d.a)(l,2),m=i[0],s=i[1];return Object(r.useEffect)((function(){s(c[null===t||void 0===t?void 0:t.id])}),[c,t,m]),a.a.createElement("div",{className:"card shadow-sm bg-white rounded"},a.a.createElement("div",{className:"card-body"},a.a.createElement("h2",{className:"card-title right-view--title"},"Comments"," ",o?null:"#".concat(t.id.split("-")[0])),o?a.a.createElement(g,null):a.a.createElement("div",{className:"card-text"},a.a.createElement("div",{className:"row pt-2"},(null===m||void 0===m?void 0:m.length)?m.map((function(e,t){return a.a.createElement("div",{key:e.id+t,className:"pt-5 col-12 p-0"},a.a.createElement(b,{comment:e}))})):a.a.createElement(O,null)),t&&Object.keys(t).length>0?a.a.createElement("div",{className:"row pt-5"},a.a.createElement(y,{addComment:n,currentItemId:t.id})):null)))})),j=function(){return a.a.createElement("div",{className:"container-fluid p-4"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-6"},a.a.createElement(p,null)),a.a.createElement("div",{className:"col-6"},a.a.createElement(w,null))))};var h=function(){return a.a.createElement("div",{className:"container-fluid h-100"},a.a.createElement("div",{className:"row h-100 fixed-top"},a.a.createElement("div",{className:"col-3 hidden-md-down left-view"},a.a.createElement(u,null)),a.a.createElement("div",{className:"col-9 col-sm-9 col-md-9 col-lg-9 col-xl-9"},a.a.createElement(j,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N,I=n(94),D=n(5);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S,T=(N={},Object(D.a)(N,"ADD_ITEM",(function(e,t){return P({},e,{entries:[].concat(Object(I.a)(e.entries),[t])})})),Object(D.a)(N,"REMOVE_ITEM",(function(e,t){var n=e.entries.filter((function(e){return e.id!==t}));return P({},e,{entries:n})})),Object(D.a)(N,"DEFAULT",(function(e){return e})),N),M={entries:[]};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k,x=(S={},Object(D.a)(S,"SELECT_ITEM",(function(e,t){return A({},e,{selectedEntry:t})})),Object(D.a)(S,"REMOVE_CURRENT_ITEM",(function(e){return A({},e,{selectedEntry:null})})),Object(D.a)(S,"DEFAULT",(function(e){return e})),S),L={selectedEntry:{}};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=(k={},Object(D.a)(k,"ADD_COMMENT",(function(e,t){var n=U({},e.entries);return"undefined"===typeof n[t.id]?n[t.id]=[t]:n[t.id].push(t),U({},e,{entries:n})})),Object(D.a)(k,"REMOVE_ALL_COMMENTS",(function(e,t){var n=U({},e.entries);return delete n[t],U({},e,{entries:n})})),Object(D.a)(k,"DEFAULT",(function(e){return e})),k),F={entries:{}};var J=Object(i.b)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;return(T[t.type]||T.DEFAULT)(e,t.payload)},currentItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return(x[t.type]||x.DEFAULT)(e,t.payload)},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;return(V[t.type]||V.DEFAULT)(e,t.payload)}}),K="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,B=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.error(t)}}(),W=Object(i.d)(J,B,K());W.subscribe(s()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){console.error(n)}}({items:W.getState().items,currentItem:W.getState().currentItem,comments:W.getState().comments})}),1e3)),o.a.render(a.a.createElement(l.a,{store:W},a.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},95:function(e,t,n){e.exports=n(200)}},[[95,1,2]]]);
//# sourceMappingURL=main.9ccddab9.chunk.js.map